<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>rhykerd.com</title>
    <meta name="description" content="Neo‑retro splash page for rhykerd.com" />
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM UMD -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <!-- Framer Motion UMD -->
    <script src="https://unpkg.com/framer-motion/dist/framer-motion.umd.js"></script>
    <!-- Babel for JSX in-browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>html, body, #root { height: 100%; } body { background:#000; }</style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useEffect, useRef, useState, useMemo } = React;
      const { motion } = window.framerMotion || {};

      /* ---------------- Matrix Rain ---------------- */
      function MatrixRain({ density = 0.9, speed = 1 }) {
        const canvasRef = useRef(null);
        const animationRef = useRef(null);

        useEffect(() => {
          const canvas = canvasRef.current;
          const ctx = canvas.getContext("2d");

          let w = (canvas.width = window.innerWidth);
          let h = (canvas.height = window.innerHeight);

          const fontSize = 16;
          let columns = Math.floor(w / fontSize);
          let drops = Array(columns).fill(1);

          const chars = "アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズヅブプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポ0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ$%#*+-=<>";

          function draw() {
            ctx.fillStyle = "rgba(0,0,0,0.08)";
            ctx.fillRect(0, 0, w, h);

            ctx.font = fontSize + "px monospace";

            for (let i = 0; i < drops.length; i++) {
              const text = chars[Math.floor(Math.random() * chars.length)];
              ctx.fillStyle = "rgba(0, 255, 135, " + (0.6 + Math.random() * 0.4) + ")";
              ctx.fillText(text, i * fontSize, drops[i] * fontSize);

              if (drops[i] * fontSize > h && Math.random() > density) drops[i] = 0;
              drops[i] += speed;
            }
            animationRef.current = requestAnimationFrame(draw);
          }

          function onResize() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
            columns = Math.floor(w / fontSize);
            drops = Array(columns).fill(1);
          }

          draw();
          window.addEventListener("resize", onResize);

          return () => {
            if (animationRef.current) cancelAnimationFrame(animationRef.current);
            window.removeEventListener("resize", onResize);
          };
        }, [density, speed]);

        return <canvas ref={canvasRef} className="fixed inset-0 -z-10 block" aria-hidden />;
      }

      /* ---------------- Glitch Text ---------------- */
      function GlitchText({ children }) {
        return (
          <div className="relative inline-block">
            <span className="glitch" data-text={children}>{children}</span>
            <style>{`
              .glitch {
                position: relative;
                display: inline-block;
                font-weight: 800;
                letter-spacing: .02em;
                text-shadow: 0 0 12px rgba(0,255,135,.6), 0 0 24px rgba(0,255,135,.25);
              }
              .glitch::before, .glitch::after {
                content: attr(data-text);
                position: absolute; left:0; top:0; width:100%; height:100%;
                clip-path: inset(0 0 0 0);
              }
              .glitch::before {
                transform: translate(1px,-1px);
                color: #00ff87;
                mix-blend-mode: screen;
                animation: glitchTop 2s infinite linear alternate-reverse;
              }
              .glitch::after {
                transform: translate(-1px,1px);
                color: #00ffc3;
                mix-blend-mode: screen;
                animation: glitchBot 1.7s infinite linear alternate;
              }
              @keyframes glitchTop {
                0% { clip-path: inset(0 0 80% 0); }
                20% { clip-path: inset(0 0 60% 0); }
                40% { clip-path: inset(0 0 40% 0); }
                60% { clip-path: inset(0 0 20% 0); }
                80%,100% { clip-path: inset(0 0 10% 0); }
              }
              @keyframes glitchBot {
                0% { clip-path: inset(80% 0 0 0); }
                25% { clip-path: inset(60% 0 0 0); }
                50% { clip-path: inset(40% 0 0 0); }
                75% { clip-path: inset(20% 0 0 0); }
                100% { clip-path: inset(10% 0 0 0); }
              }
            `}</style>
          </div>
        );
      }

      /* ---------------- Logo (swap paths with your brand any time) ---------------- */
      function LogoSVG({ className = "w-24 h-24" }) {
        return (
          <svg viewBox="0 0 160 160" className={className} aria-label="rhykerd logo">
            <defs>
              <radialGradient id="glow" cx="50%" cy="50%" r="60%">
                <stop offset="0%" stopColor="currentColor" stopOpacity="0.9" />
                <stop offset="60%" stopColor="currentColor" stopOpacity="0.15" />
                <stop offset="100%" stopColor="currentColor" stopOpacity="0" />
              </radialGradient>
            </defs>
            <circle cx="80" cy="80" r="76" fill="url(#glow)" />
            <g fill="none" stroke="currentColor" strokeWidth="6" strokeLinejoin="round" strokeLinecap="round">
              <path d="M40 115 V45 h50a25 25 0 0 1 0 50H40" />
              <path d="M90 95 l30 20" />
              <circle cx="40" cy="45" r="4" fill="currentColor" />
              <circle cx="120" cy="115" r="4" fill="currentColor" />
              <circle cx="90" cy="95" r="4" fill="currentColor" />
            </g>
          </svg>
        );
      }

      /* ---------------- Burst Variants ---------------- */
      function PixelBurst({ onDone }) {
        const pieces = useMemo(() => {
          const arr = [];
          for (let i = 0; i < 140; i++) {
            const angle = Math.random() * Math.PI * 2;
            const dist = 40 + Math.random() * 220;
            arr.push({
              id: i,
              tx: Math.cos(angle) * dist,
              ty: Math.sin(angle) * dist,
              size: 3 + Math.random() * 5,
              dur: 600 + Math.random() * 500
            });
          }
          return arr;
        }, []);

        useEffect(() => {
          const t = setTimeout(onDone, 1000);
          return () => clearTimeout(t);
        }, [onDone]);

        return (
          <div className="fixed inset-0 pointer-events-none z-40">
            <div className="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2">
              {pieces.map(p => (
                <div key={p.id} style={{
                  position: 'absolute',
                  left: 0, top: 0,
                  width: p.size, height: p.size,
                  background: 'rgba(0,255,135,.9)',
                  boxShadow: '0 0 12px rgba(0,255,135,.6)',
                  transform: 'translate(' + p.tx + 'px,' + p.ty + 'px)',
                  transition: 'transform ' + p.dur + 'ms cubic-bezier(.2,.9,.2,1), opacity ' + p.dur + 'ms',
                  opacity: 0
                }} />
              ))}
            </div>
          </div>
        );
      }

      function ScanlineFlash({ onDone }) {
        useEffect(() => { const t = setTimeout(onDone, 550); return () => clearTimeout(t); }, [onDone]);
        return (
          <div className="fixed inset-0 pointer-events-none z-40 overflow-hidden">
            <div className="absolute inset-0" style={{
              background: 'linear-gradient(transparent 48%, rgba(0,255,135,.55) 50%, transparent 52%)',
              backgroundSize: '100% 8px', mixBlendMode: 'screen',
              animation: 'scanline 0.5s ease-out forwards'
            }} />
            <style>{`@keyframes scanline { from { transform: translateY(-100%); } to { transform: translateY(100%); } }`}</style>
          </div>
        );
      }

      function PingFlash({ onDone }) {
        useEffect(() => { const t = setTimeout(onDone, 900); return () => clearTimeout(t); }, [onDone]);
        return (
          <div className="fixed inset-0 pointer-events-none z-40">
            <div className="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full"
                 style={{ width: 8, height: 8, background: 'rgba(0,255,135,1)',
                          boxShadow: '0 0 80px rgba(0,255,135,.8)',
                          animation: 'pingOut 0.9s ease-out forwards', mixBlendMode: 'screen' }} />
            <style>{`@keyframes pingOut { from { transform: translate(-50%,-50%) scale(1); opacity:1; } to { transform: translate(-50%,-50%) scale(80); opacity: 0; } }`}</style>
          </div>
        );
      }

      /* ---------------- WebAudio Beep (no assets, no optional chaining) ---------------- */
      function useBeep() {
        const ctxRef = useRef(null);
        return () => {
          try {
            const AC = window.AudioContext || window.webkitAudioContext;
            if (!AC) return;
            const ctx = ctxRef.current || new AC();
            ctxRef.current = ctx;
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.type = "sine";
            osc.frequency.value = 880; // A5
            const t = ctx.currentTime;
            gain.gain.setValueAtTime(0.0001, t);
            gain.gain.exponentialRampToValueAtTime(0.22, t + 0.02);
            gain.gain.exponentialRampToValueAtTime(0.0001, t + 0.14);
            osc.connect(gain).connect(ctx.destination);
            osc.start();
            osc.stop(t + 0.16);
          } catch (e) {}
        };
      }

      /* ---------------- App ---------------- */
      function RhykerdSplash() {
        const [crt, setCrt] = useState("emerald"); // emerald | amber
        const [burst, setBurst] = useState(false);
        const [burstType, setBurstType] = useState("pixel"); // pixel | scanline | ping
        const beep = useBeep();

        // Konami code + hotkeys
        useEffect(() => {
          const sequence = ["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a","Enter"];
          let idx = 0;
          function onKey(e) {
            const k = e.key.length === 1 ? e.key.toLowerCase() : e.key;
            if (k === sequence[idx]) {
              idx += 1;
              if (idx === sequence.length) {
                triggerBurst();
                idx = 0;
              }
            } else {
              idx = k === sequence[0] ? 1 : 0;
            }
            if (e.key.toLowerCase() === "a") setCrt(function(c){ return c === "amber" ? "emerald" : "amber"; });
            if (e.key === "1") setBurstType("pixel");
            if (e.key === "2") setBurstType("scanline");
            if (e.key === "3") setBurstType("ping");
          }
          window.addEventListener("keydown", onKey);
          return () => window.removeEventListener("keydown", onKey);
        }, []);

        function triggerBurst() {
          setBurst(true);
          beep();
        }

        // smoke tests in console
        useEffect(() => {
          try {
            console.assert(typeof MatrixRain === "function", "MatrixRain exists");
            console.assert(["pixel","scanline","ping"].indexOf("pixel") >= 0, "burst type ok");
          } catch (e) { console.warn(e); }
        }, []);

        return (
          <div className={(crt === "amber" ? "theme-amber" : "theme-emerald") + " min-h-screen relative"}>
            <MatrixRain density={0.92} speed={1} />

            {/* CRT overlay */}
            <div className="pointer-events-none fixed inset-0 -z-10 mix-blend-screen opacity-40" aria-hidden>
              <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(0,255,135,0.06),transparent_60%)]" />
              <div className="absolute inset-0 bg-[linear-gradient(transparent_97%,rgba(0,0,0,0.6)_98%),linear-gradient(90deg,rgba(0,0,0,0.35)_1px,transparent_1px)] bg-[length:100%_3px,4px_100%]" />
            </div>

            {/* Bursts */}
            {burst && burstType === "pixel" && <PixelBurst onDone={function(){ setBurst(false); }} />}
            {burst && burstType === "scanline" && <ScanlineFlash onDone={function(){ setBurst(false); }} />}
            {burst && burstType === "ping" && <PingFlash onDone={function(){ setBurst(false); }} />}

            {/* Hero */}
            <div className="relative grid place-items-center min-h-screen px-6">
              <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6 }} className="text-center">
                <motion.div animate={burst ? { rotate: 360, scale: 1.1 } : { rotate: 0, scale: 1 }} transition={{ duration: 0.9, ease: "easeOut" }} className="mx-auto mb-6 h-28 w-28 rounded-2xl border border-emerald-400/40 bg-black/60 shadow-[0_0_60px_rgba(0,255,135,0.18)] grid place-items-center text-emerald-200">
                  <LogoSVG className="w-20 h-20" />
                </motion.div>
                <h1 className="text-4xl sm:text-6xl font-extrabold tracking-tight text-emerald-200">
                  <GlitchText>rhykerd.com</GlitchText>
                </h1>
                <p className="mt-3 max-w-xl mx-auto text-emerald-100/80">
                  neo‑retro network node // signal acquired // stand by for uplink
                </p>
                <div className="mt-8 flex items-center justify-center gap-3">
                  <button onClick={triggerBurst} className="rounded-2xl border border-emerald-400/40 px-5 py-2.5 text-emerald-100 bg-black/50 hover:bg-emerald-500/20 transition shadow-[0_0_30px_rgba(0,255,135,0.15)]">Enter</button>
                  <button onClick={function(){ setCrt(crt === "amber" ? "emerald" : "amber"); }} className="rounded-2xl border border-emerald-400/40 px-5 py-2.5 text-emerald-100/80 hover:text-emerald-100 bg-black/30 hover:bg-black/40 transition">CRT: {crt}</button>
                </div>
                <div className="mt-4 flex items-center justify-center gap-2 text-[10px] text-emerald-300/60 font-mono">
                  <span>press "A" for amber/green</span><span>•</span>
                  <span>Konami code for burst</span><span>•</span>
                  <span>1=pixel · 2=scanline · 3=ping</span>
                </div>
                <div className="mt-8 text-emerald-300/60 text-xs">© 1999—2025 rhykerd.com</div>
              </motion.div>
            </div>

            <style>{`
              :root { color-scheme: dark; }
              .theme-amber { --crt: 255, 190, 0; }
              .theme-emerald { --crt: 0, 255, 135; }
              .theme-amber .glitch::before { color: #ffbe00; }
              .theme-amber .glitch::after { color: #ffd35e; }
              .theme-amber .text-emerald-200, .theme-amber .text-emerald-100, .theme-amber .text-emerald-300, .theme-amber .border-emerald-400, .theme-amber .bg-emerald-500\\/20, .theme-amber .text-emerald-300\\/60, .theme-amber .text-emerald-100\\/80 {
                color: rgb(var(--crt)) !important; border-color: rgba(var(--crt), .4) !important; filter: saturate(0.9);
              }
              .theme-amber .hover\\:bg-emerald-500\\/20:hover { background-color: rgba(var(--crt), .15) !important; }
              .theme-amber .border-emerald-400\\/40 { border-color: rgba(var(--crt), .4) !important; }
              .theme-amber .bg-emerald-500\\/20 { background-color: rgba(var(--crt), .12) !important; }
            `}</style>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<RhykerdSplash />);
    </script>
  </body>
</html>
